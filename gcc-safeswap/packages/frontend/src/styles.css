/* =========================================================
   Condor SafeSwap â€” Unified Styles (Apple-style, mobile-first)
   Background uses /assets/no_mask.png + dark overlay
   ========================================================= */

/* ---------- Tokens ---------- */
:root{
  --bg:#05070a;
  --ink:#e0f7ff;
  --muted:#8ea3a2;

  --cyan:#00ffff;
  --cyan-weak: rgba(0,255,255,.10);
  --line:#0ff;

  --orange:#ff7300;
  --mint:#00ff9c;

  --brand-green:#00ffcc;
  --brand-amber:#ff9100;

  --surface: rgba(5,7,10,.80);
  --border: rgba(0,255,255,.25);

  --radius: 14px;
  --transition: .25s ease;
}

/* ---------- Base / Resets ---------- */
*{ box-sizing: border-box; }
html,body{ height:100%; margin:0; }
html{ -webkit-text-size-adjust:100%; }
body{
  background: var(--bg);
  color: var(--ink);
  font-family: system-ui, -apple-system, Segoe UI, Inter, Roboto, "Helvetica Neue", Arial, sans-serif;
  display:flex; flex-direction:column; min-height:100vh;
}
main{ flex:1; }

/* avoid iOS zoom-on-focus */
input, select, button { font-size:16px; -webkit-tap-highlight-color: transparent; }

/* ---------- Background (matrix) ---------- */
.bg-overlay{ position:fixed; inset:0; z-index:-1; }
.bg-matrix{
  z-index:-1;
  width:100%; height:100%;
  background:
    linear-gradient(rgba(0,0,0,.55), rgba(0,0,0,.85)),
    url('/assets/no_mask.png') center/cover no-repeat,
    radial-gradient(circle at 50% 30%, rgba(0,255,255,.10), transparent 60%),
    #000;
  opacity:.42;
  animation: matrix 30s linear infinite;
}
@keyframes matrix{ from{ transform:translateY(0) } to{ transform:translateY(-100%) } }
@media (max-width:768px){
  .bg-matrix{ animation-duration:45s; } /* calmer motion on phones */
}

/* Always disable blur on small screens */
@media (max-width:600px){
  .holo .card{ backdrop-filter:none; background:rgba(5,7,10,.92); }
  .bg-matrix{ opacity:.36; }
}

/* ---------- Performance Mode switch (applies when <html>.perf-mode) ---------- */
html.perf-mode .bg-matrix{
  opacity:.28;
  animation:none !important;
}
html.perf-mode .holo .card{
  backdrop-filter:none !important;
  background:rgba(5,7,10,.92);
  box-shadow:0 8px 30px rgba(0,0,0,.35);
}

/* ---------- Container / Safe areas ---------- */
.shell{
  max-width:1100px; margin:0 auto;
  padding: max(24px, env(safe-area-inset-top))
           max(20px, env(safe-area-inset-right))
           max(20px, env(safe-area-inset-bottom))
           max(20px, env(safe-area-inset-left));
}

/* ---------- Header / Nav ---------- */
header.nav{
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 0;
}
.brand{ display:flex; gap:10px; align-items:center; font-weight:700; letter-spacing:.3px; }
.brand .logo{
  width:28px;
  height:28px;
  border-radius:6px;
  object-fit:cover;
  display:block;
}
.nav__links{ list-style:none; display:flex; gap:22px; margin:0; padding:0; }
.nav__links a{ color:var(--ink); opacity:.92; text-decoration:none; transition:color var(--transition), opacity var(--transition); }
.nav__links a:hover{ color:var(--cyan); opacity:1; }
.nav__right{ display:flex; gap:10px; align-items:center; }

/* ---------- Buttons / Pills ---------- */
button,.btn{
  border:1px solid var(--line);
  background: rgba(0,0,0,.5);
  color:var(--cyan);
  padding:10px 14px; border-radius:10px; cursor:pointer;
  min-height:48px; transition: border-color var(--transition), transform var(--transition), background var(--transition);
}
button:hover,.btn:hover{ border-color:#66ffff; transform:translateY(-1px); }
button:disabled,.btn:disabled{ cursor:not-allowed; opacity:.5; transform:none; }
button.primary,.btn--primary{ background: var(--cyan-weak); }
button.success,.btn--success{ border-color: var(--orange); color: var(--orange); }

/* loading spinner */
button[aria-busy="true"]::after{
  content:""; display:inline-block; width:12px; height:12px; margin-left:6px;
  border:2px solid currentColor; border-top-color:transparent; border-radius:50%;
  animation:spin 1s linear infinite;
}
@keyframes spin{ to{ transform:rotate(360deg); } }

/* Pills (chips) */
.pill{
  display:inline-block; padding:6px 12px; border-radius:999px;
  border:1px solid currentColor; font-size:.85rem; line-height:1;
}
.pill--success{ color:var(--mint); }
.pill--warning,.pill--accent{ color:var(--orange); }
.pill.active{ background: var(--cyan-weak); border-color: var(--cyan); }

/* ---------- Swap Card (Holo) ---------- */
.holo{
  position:relative; margin:40px auto; max-width:560px; padding:2px; border-radius:16px;
  background: linear-gradient(135deg, rgba(0,255,255,.5), rgba(255,115,0,.45));
}
.holo .card{
  background: var(--surface);
  backdrop-filter: blur(12px);
  border-radius: var(--radius);
  padding:18px;
  color:var(--ink);
  border:1px solid var(--border);
  box-shadow: 0 20px 60px rgba(0,0,0,.45), 0 0 0 1px rgba(0,255,255,.08) inset;
}

/* stats ribbon */
.stat{
  margin-top:8px; padding:8px 10px; border:1px solid var(--line);
  border-radius:8px; font-size:.85rem; color:var(--cyan);
}

/* ---------- Form Rows ---------- */
.row{ display:flex; align-items:center; gap:10px; margin:10px 0; }
.row input,.row select{
  background:#0b1220; border:1px solid #263141; color:var(--ink);
  padding:10px; border-radius:10px; min-width:120px; width:100%;
  transition: border-color var(--transition), box-shadow var(--transition);
}
.row input:focus,.row select:focus{
  outline:none; border-color:var(--cyan);
  box-shadow:0 0 0 3px rgba(0,255,255,.25);
}

/* ---------- Modal (wallet unlock etc.) ---------- */
.modal{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.6); z-index:1000; }
.modal .card{ background:#05070a; padding:16px; border:1px solid var(--line); border-radius:12px; min-width:320px; }
.stack{ display:flex; flex-direction:column; gap:.75rem; }

/* ---------- Hints / Errors / Badges ---------- */
.quote{ padding:10px; border:1px dashed #334155; border-radius:10px; color:#d1d5db; }
.badge{
  display:inline-block; padding:2px 6px; border-radius:6px;
  background:#334155; color:#e5e7eb; font-size:.75rem; margin-bottom:4px;
}
.muted{ color:var(--muted); font-size:.9rem; }
.error{
  color:#ff6666; padding:8px; border:1px solid #7f1d1d;
  border-radius:8px; background:#450a0a;
}
.hint{ color:#93c5fd; }

/* ---------- Toasts ---------- */
.toasts{ position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px; }
.toast{ background:#111827; color:#e5e7eb; border:1px solid #374151; border-radius:8px; padding:10px 12px; }
.toast.success{ border-color:#10b981; }
.toast.error{ border-color:#ef4444; }
.toast.warn{ border-color:#f59e0b; }

/* ---------- Upload helpers ---------- */
.fingerprint{ display:inline-block; background:#333; padding:2px 6px; margin-left:6px; font-size:.80rem; border-radius:6px; }
.dropzone{ border:1px dashed #334155; padding:1rem; text-align:center; cursor:pointer; margin-top:.5rem; border-radius:10px; }

/* Bring the swap UI to the front */
.holo, .hero, main, header.nav, .footer { position: relative; z-index: 1; }

/* Make the foreground hero image go away */
.hero__visual { display: none; }

/* Tighten hero spacing */
.hero{ padding:36px 0 8px; }

/* ---------- Footer ---------- */
footer{ margin-top:auto; }
.footer{ padding:14px 0; border-top:1px solid var(--line); }
.footer__inner{ display:flex; align-items:center; justify-content:space-between; font-size:.9rem; }
.footer__inner a{ color:var(--cyan); text-decoration:none; margin-left:14px; }

/* ---------- Utilities ---------- */
.subtitle{ color:#6ad6ff; margin-top:4px; opacity:.9; }
.guard{ display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
.actions{ display:flex; gap:10px; margin-top:12px; }
.status{ color:#a7f3d0; }

/* ---------- Focus (a11y, minimal noise) ---------- */
:focus{ outline:none; }
:focus-visible{ outline:2px solid var(--line); outline-offset:2px; }

/* ---------- Reduced Motion ---------- */
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; }
}

/* ---------- Responsive ---------- */
@media (max-width:600px){
  header.nav{ flex-direction:column; align-items:flex-start; gap:12px; }
  .nav__right{ flex-wrap:wrap; }
  .row{ flex-direction:column; align-items:stretch; }
  .row input,.row select{ width:100%; padding:14px; }
  button,.btn{ width:100%; padding:14px 16px; }
  .holo{ max-width:100%; margin:24px auto; border-radius:14px; }
  .holo .card{ padding:16px; }
  .footer__inner{ flex-direction:column; gap:8px; text-align:center; }
  .brand .logo{ width:22px; height:22px; }
  .brand{ font-size:1rem; }
  .nav__links{ gap:14px; }
  .subtitle{ font-size:.95rem; }
}

@media (max-width:480px){
  .actions{ flex-direction:column; }
  .actions button,.actions .btn{ width:100%; }
}

@media (max-width:360px){
  .row{ gap:8px; }
  .actions{ gap:8px; }
  .pill{ padding:6px 10px; font-size:.8rem; }
  .footer__inner{ font-size:.85rem; }
}

/* Brand text in neon */
.brand--neon {
  color: var(--brand-green);
  text-shadow: 0 0 10px rgba(0, 255, 204, 0.45);
  font-weight: 700;
  letter-spacing: .3px;
}
.brand .logo { display: none !important; }

/* Header spacing on mobile */
@media (max-width: 600px){
  header.nav { padding: 6px 0; }
  .nav__links { gap: 12px; }
  .nav__links a { font-size: 0.95rem; }
}

/* Container breathes less on narrow screens */
@media (max-width: 430px){
  .shell, .container {
    padding-left: 12px;
    padding-right: 12px;
  }
}

/* Hero title scale & spacing (mobile) */
.hero { padding: 28px 0 6px; }
.hero .lead { font-size: 1rem; }
@media (max-width: 430px){
  .hero h1 { font-size: 1.6rem; line-height: 1.2; }
}

/* Swap card should fill phone width nicely */
.holo { max-width: 560px; }
@media (max-width: 600px){
  .holo { max-width: 100%; margin: 20px auto; border-radius: 14px; }
  .holo .card { padding: 16px; }
}

/* Inputs & buttons full-width and comfy on phones */
@media (max-width: 600px){
  .row { flex-direction: column; align-items: stretch; gap: 12px; }
  .row input, .row select { width: 100%; padding: 14px; }
  .actions { flex-direction: column; gap: 12px; }
  button, .btn { width: 100%; min-height: 48px; padding: 14px 16px; }
}

/* Keep swap card clearly above background */
.holo, main, header.nav, .footer { position: relative; z-index: 1; }
.bg-overlay, .bg-matrix { z-index: -1; }

/* Ensure brand color for the app title anywhere */
.brand--neon span { color: var(--brand-green); }

/* Mobile polish */
@media (max-width: 480px){
  .actions button, .btn, .btn--primary { width: 100%; }
  .holo { margin: 16px auto; }
  .holo .card { padding: 14px; }
  .debug-log { display: none; }
  .debug-toggle { display:inline-block; padding:6px 10px; border:1px solid var(--line); border-radius:8px; }
}
